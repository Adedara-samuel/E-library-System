<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Block</title>
  <link rel="stylesheet" href="styling.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- <link rel="shortcut icon" href="logo.png"> -->
</head>

<body>
  <header>
    <div class="header1">
      <a href="#" class="logo"><i class="fas fa-book"></i> E-book</a>
      <form class="search-form">
        <input type="search" placeholder="  Search here..." id="search box">
        <label for="search box" class="fas fa-search"></label>
      </form>
      <div class="icons">
        <!-- <div id="search_btn" class="fas fa-search"></div> -->
        <a href="#" class="fas fa-heart"></a>
        <a href="profile.html" class="fas fa-user"></a>
        <div class="admin-dropdown">
          <i class="fas fa-briefcase"></i>
          <div class="admin-sidebar">
            <div class="sidebar-header">
              <h3>Admin Options</h3>
              <button class="close-btn"><i class="fas fa-times"></i></button>
            </div>
            <div class="admin-options">
              <a href="adminblock.html" class="admin-opts"><i class="fas fa-upload"></i> Upload</a>
              <a href="edit.html" class="admin-opts"><i class="fas fa-edit"></i> Edit</a>
              <a href="delete.html" class="admin-opts"><i class="fas fa-trash-alt"></i> Delete</a>
              <a href="reset-user.html" class="admin-opts"><i class="fas fa-key"></i> Reset Password</a>
              <a href="activate-user.html" class="admin-opts"><i class="fas fa-user-slash"></i>
                  Activate/Deactivate</a>
              <a href="permission.html" class="admin-opts"><i class="fas fa-user-lock"></i>
                  Permissions</a>
              <a href="student-progess.html" class="admin-opts"><i class="fas fa-book-bookmark"></i>
                  View Student Progress</a>
          </div>
          </div>
        </div>
        <div id="logout-btn" class="fas fa-sign-out-alt"></div>
      </div>
    </div>

    <!-- favourite sidebar  -->
    <div class="fav-sidebar">
      <div class="sidebar-header">
        <h3>Favorites</h3>
        <button class="close-btn"><i class="fa fa-times"></i></button>
      </div>
      <div class="sidebar-content">
        <!-- Favorite items will be dynamically added here -->
      </div>
    </div>


  </header>
  <section>
    <div class="side-bar">
      <nav class="navbar">
        <a href="dashboard.html"><i class="fas fa-home"></i><span>dashboard</span></a>
        <a href="profile.html"><i class="fas fa-user"></i><span>profile</span></a>
        <a href="course.html"><i class="fas fa-book"></i><span>course</span></a>
        <a href="adminblock.html"><i class="fas fa-briefcase"></i><span>admin block</span></a>
        <a href="FAQ.html"><i class="fas fa-question-circle"></i><span>FAQ</span></a>
      </nav>
      <button class="toggle-btn"><i class="fas fa-arrow-left"></i></button>
    </div>

    <nav class="bottom-nav show">
      <a href="dashboard.html" class="fas fa-home"></a>
      <a href="profile.html" class="fas fa-user"></a>
      <a href="course.html" class="fas fa-book"></a>
      <a href="adminblock.html" class="fas fa-briefcase"></a>
      <a href="FAQ.html" class="fas fa-question-circle"></a>
    </nav>
    <div class="body">
      <section class="edit-section">
        <h1>Edit Book or Video</h1>
        <div class="edit-form">
          <form id="editForm">
            <div class="form-group">
              <label for="uniqueKey">Unique Key:</label>
              <input type="text" id="uniqueKey" name="uniqueKey" required>
              <button type="button" onclick="fetchDetails()">Fetch Details</button>
            </div>
            <div id="editFields" style="display: none;">
              <div class="form-group">
                <label for="type">Type:</label>
                <select id="type" name="type" required>
                  <option value="book">Book</option>
                  <option value="video">Video</option>
                </select>
              </div>
              <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" required>
              </div>
              <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description" rows="5" required></textarea>
              </div>
              <div id="fileFields" class="form-group">
                <label for="file">File:</label>
                <input type="file" id="file" name="file" accept=".pdf,.doc,.docx,.mp4">
              </div>
              <div id="videoFields" style="display: none;">
                <div class="form-group">
                  <label for="duration">Duration:</label>
                  <input type="text" id="duration" name="duration" placeholder="HH:MM:SS">
                </div>
              </div>
              <div class="form-group">
                <button type="submit">Update</button>
              </div>
            </div>
          </form>
        </div>
      </section>

    </div>
  </section>

  <script>
    // Simulated function to fetch details
function fetchDetails() {
    let uniqueKey = document.getElementById("uniqueKey").value.trim();

    if (!uniqueKey) {
        alert("⚠️ Please enter a unique key.");
        return;
    }

    // Simulating fetching details
    let mockData = {
        type: "book",
        title: "Sample Book",
        description: "This is a sample book description."
    };

    document.getElementById("type").value = mockData.type;
    document.getElementById("title").value = mockData.title;
    document.getElementById("description").value = mockData.description;
    document.getElementById("editFields").style.display = "block";

    if (mockData.type === "video") {
        document.getElementById("videoFields").style.display = "block";
    } else {
        document.getElementById("videoFields").style.display = "none";
    }

    alert("✅ Details fetched successfully!");
}

// Handle form submission
document.getElementById("editForm").addEventListener("submit", function (event) {
    event.preventDefault();

    let type = document.getElementById("type").value;
    let title = document.getElementById("title").value.trim();
    let description = document.getElementById("description").value.trim();
    let fileInput = document.getElementById("file").files[0];

    if (!title || !description) {
        alert("⚠️ All fields are required.");
        return;
    }

    alert(`✅ ${type.charAt(0).toUpperCase() + type.slice(1)} updated successfully!`);
    location.reload(); // Refresh the page after clicking OK
});

  </script>


  <script src="script.js"></script>
  <script src="fav.js"></script>
  <script src="admin.js"></script>
</body>

</html>